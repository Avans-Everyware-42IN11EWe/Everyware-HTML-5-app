<!DOCTYPE html>
<html>
    <head>  
        <script type="text/javascript" charset="UTF-8" src="js/jsLoad.js"></script>
        <link rel="stylesheet" href="css/idangerous.swiper.css">
        <link rel="stylesheet" type="text/css" href="custom.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery-ui-1.10.4.custom.css" />
        
        <script>	

			// Create postcode page
			$ePostcode = $("<div></div>");
			$ePostcode.css("height", "100%");
			$ePostcode.css("width", "100%");
			LoadHtmlPage("pages/postcode.html", $ePostcode);
		
			// create login page
			$eLogin = $("<div></div>");
			$eLogin.css("height", "100%");
			$eLogin.css("width", "100%");
			LoadHtmlPage("pages/register.html", $eLogin);

      // create UploadPicture page
      $eUploadPicture = $("<div></div>");
      $eUploadPicture.css("height", "100%");
      $eUploadPicture.css("width", "100%");
      LoadHtmlPage("pages/UploadPicture.html", $eUploadPicture);
		
			// create intro page
			$eIntro = $("<div></div>");				
			$eIntro.css("backgroundColor", "black");
			$eIntro.css("height", "100%");
			$eIntro.css("width", "100%");
				
			LoadHtmlPage("pages/intro_video.html", $eIntro);
			
			// Hide the intro video
            $(document).on( "click", "#skip_intro", function() {
                $('#intro')[0].pause();
                $("#overlay_container").hide();
            });
			
			$(document).on( "click", ".closebutton", function() {
                $("#overlay_container").hide();
            });			
			
			$isMenuOpen = false;
			$menuIsAnimating = false;
			
			function MenuOpen()
			{
				$menuIsAnimating = true;
				$("#top-menu").css("textAlign", "right");
					
				$width = $( window ).width()-50;
				$( "#left-menu" ).animate({
						width: $width,	
						}, 150, function() {
							$menuIsAnimating = false;
						});		
				/*
				$( ".swiper-container, #overlay_container" ).animate({
						width: 50,
						marginLeft: $width,
						}, 150, function() {
							$menuIsAnimating = false;
						});	*/						
			}
			
			function MenuClose()
			{	
				$menuIsAnimating = true;
				$("#top-menu").css("textAlign", "left");
			
				$( "#left-menu" ).animate({
						width: 0,					
						}, 150, function() {
								$menuIsAnimating = false;
						});	
				/*
				$( ".swiper-container" ).animate({
						width: $( window ).width()-20,
						marginLeft: 20,
						}, 150, function() {
							$menuIsAnimating = false;
						});	

				$( "#overlay_container" ).animate({
						width: $( window ).width(),
						marginLeft: 0,
						}, 150, function() {
							$menuIsAnimating = false;
						});	*/						
			}
			
			// Menu
			$(document).on( "click touchstart", "#menu-btn-open", function() {
				if(!$menuIsAnimating)
				{
					$("#menu-btn-close").show();
					MenuOpen();
				}
				return false;				
            });	
			
			$(document).on( "click touchstart", "#menu-btn-close", function() {
				
				if(!$menuIsAnimating)
				{	
					$("#menu-btn-close").hide();
					MenuClose();
				}
				return false;				
            });	
			
						
			// --
	        var mySwiper;
            $( document ).ready(function() {
                
				$("#menu-btn-close").hide();				
					
				$(document).on( "click", "#mijnWijk", function() {	
					$("#bg").css("opacity","0");
                
					// Go to login overlay
          $("#overlay_container").html($eLogin);							
					$("#overlay_container").show();
        });

				$(document).on( "click", "#andereWijk", function() {	
					$("#bg").css("opacity","0");
                
	        // Go to postcode zoek overlay
          $("#overlay_container").html($ePostcode);							
			    $("#overlay_container").show();
        });

        $(document).on( "click", "#uploadPicture", function() {  
          $("#bg").css("opacity","0");
          $("#overlay_container").html($eUploadPicture);             
          $("#overlay_container").show();
        });
				
				// Prepare the containers
				$height = $( window ).height();
				$width = $( window ).width();
				$(".swiper-container").css("height", $height + "px");

				$("#overlay_container").css("height", $height + "px");
				$("#overlay_container").css("width", $width + "px");
				$("#overlay_container").hide();
				// --

				// Append and show the intro video
				$("#overlay_container").append($eIntro);							
				$("#overlay_container").show();	
				
				$(".swiper-container").css("height", $height-20 + "px");
                
                mySwiper  = new Swiper('.swiper-container',{
                    //Your options here:
                    mode:'horizontal',
                    noSwiping: true,
                    loop: false,
                    //etc..
                });
                  
                $('#bg').blurjs({
                    source: 'body',
                    radius: 35,
                    overlay: 'rgba(0, 0, 0, .2)'
                });
                
                //standaard blur uitzetten
                 $("#bg").css("opacity","0");

                 //$("#first").on("scroll",".blur",function(){
				 $(".blur").scroll(function(e) {
				     console.log("scrollen");
                 var elem = $(".blur");
                 var maxScrollTop = elem[0].scrollHeight - elem.outerHeight();
                 var vaagheid = 6/maxScrollTop;
                 var blurHoeveelheid =$(".blur").scrollTop()*vaagheid;
            
           
                 //grootte window
                 console.log("blur per pixel: "+vaagheid);
                 console.log("scrolltop waarde "+$(".blur").scrollTop());
                 console.log("opacityval: "+blurHoeveelheid);
                 $("#bg").css("opacity",blurHoeveelheid);
                 
                });
			});
        </script>
    </head>
    <body onLoad="initFastButtons();">
  	<span id="fastclick">
	
	<span>
    <!--<figure class="vague"></figure>-->
    <div id="bg"></div>
	<div id="top-menu">
		<div style="float:left;" id="menu-btn-open"><img src="img/reveal-icon.png" /></div>
		<div style="float:right;" id="menu-btn-close"><img src="img/reveal-icon.png" /></div>
	</div>
	<div id="left-menu"></div>
    <div class="swiper-container">
              <div class="swiper-wrapper">

                  <!--First Slide-->
                <div class="swiper-slide blur" id="first" >content</div>                				
				                              
                <!--5th Slide-->
                <div class="swiper-slide noSwiping" id="postcode">content</div>
            
               
                <!--6th Slide-->
                <div class="swiper-slide noSwiping overlayparent" id="provider">content</div>
               
               
               </div><!-- end swiper container-->
               
        </div>
		<div id="overlay_container"> 
		
		</div>
		</span>
    </body>
</html>