<!DOCTYPE html>
<html>
    <head>  
        <script type="text/javascript" charset="UTF-8" src="js/jsLoad.js"></script>
		
        <link rel="stylesheet" href="css/idangerous.swiper.css">
        <link rel="stylesheet" type="text/css" href="custom.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery-ui-1.10.4.custom.css" />
        
        <script>	

			// Create postcode page
			$ePostcode = $("<div></div>");
			$ePostcode.css("height", "100%");
			$ePostcode.css("width", "100%");
			LoadHtmlPage("pages/postcode.html", $ePostcode);
		
			// create login page
			$eLogin = $("<div></div>");
			$eLogin.css("height", "100%");
			$eLogin.css("width", "100%");
			LoadHtmlPage("pages/register.html", $eLogin);

		
			// create intro page
			$eIntro = $("<div></div>");
				
			$eIntro.css("backgroundColor", "black");
			$eIntro.css("height", "100%");
			$eIntro.css("width", "100%");
				
			LoadHtmlPage("pages/intro_video.html", $eIntro);
			
			// Hide the intro video
            $(document).on( "click", "#skip_intro", function() {
                $('#intro')[0].pause();
                $("#overlay_container").hide();
            });
			
			$(document).on( "click", ".closebutton", function() {
                $("#overlay_container").hide();
            });			
			
			// --
	        var mySwiper;
            $( document ).ready(function() {
                  	
					
				$(document).on( "click", "#mijnWijk", function() {	
					$("#bg").css("opacity","0");
                
					// Go to login overlay
                    $("#overlay_container").html($eLogin);							
					$("#overlay_container").show();
                });
				$(document).on( "click", "#andereWijk", function() {	
					$("#bg").css("opacity","0");
                
					// Go to postcode zoek overlay
                    $("#overlay_container").html($ePostcode);							
					$("#overlay_container").show();
                });
				
				// Prepare the containers
				$height = $( window ).height();
				$width = $( window ).width();
				$(".swiper-container").css("height", $height + "px");

				$("#overlay_container").css("height", $height + "px");
				$("#overlay_container").css("width", $width + "px");
				$("#overlay_container").hide();
				// --

				// Append and show the intro video
				$("#overlay_container").append($eIntro);							
				$("#overlay_container").show();	
				
				$(".swiper-container").css("height", $height-20 + "px");
                
                mySwiper  = new Swiper('.swiper-container',{
                    //Your options here:
                    mode:'horizontal',
                    noSwiping: true,
                    loop: false,
                    //etc..
                });
                  
                $('#bg').blurjs({
                    source: 'body',
                    radius: 60,
                    overlay: 'rgba(0, 0, 0, .2)'
                });
                
                //standaard blur uitzetten
                 $("#bg").css("opacity","0");

                 //$("#first").on("scroll",".blur",function(){
				 $(".blur").scroll(function(e) {
                 var elem = $(".blur");
                 var maxScrollTop = elem[0].scrollHeight - elem.outerHeight();
                 var vaagheid = 1/maxScrollTop;
                 var blurHoeveelheid =$(".blur").scrollTop()*vaagheid;
            
           
                 //grootte window
                 //console.log("blur per pixel: "+vaagheid);
                 //console.log("scrolltop waarde "+$(".blur").scrollTop());
                 console.log("opacityval: "+blurHoeveelheid);
                 $("#bg").css("opacity",blurHoeveelheid);
                 
                });
			});
        </script>
    </head>
    <body>
  	
    <!--<figure class="vague"></figure>-->
    <div id="bg"></div>
    <div class="swiper-container">
              <div class="swiper-wrapper">

                  <!--First Slide-->
                <div class="swiper-slide blur" id="first" >content</div>                				
				                              
                <!--5th Slide-->
                <div class="swiper-slide noSwiping" id="postcode">content</div>
            
               
                <!--6th Slide-->
                <div class="swiper-slide noSwiping overlayparent" id="provider">content</div>
               
               
               </div><!-- end swiper container-->
               
        </div>
		<div id="overlay_container"> 
		
		</div>
    </body>
</html>